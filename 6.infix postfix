#include<stdio.h>
#include<ctype.h>
#include<math.h>
#define size 20

char stack[size];
int top = -1; 

char push(char c)
{
    if(top == size - 1)
        printf("Stack overflow\n");
    else
        stack[++top] = c;
    return 0; 
}

char pop()
{
    if(top == -1)
    {
        printf("Stack is underflow\n");
        return '\0';
    }
    else
        return stack[top--];
}

int priority(char x)
{
    if(x == '(')
    {
        return 0;
    }
    if(x == '+'||x == '-')
    {
        return 1;
    }
    if(x == '*'||x == '/')
    {
        return 2;
    }
    if(x == '^')
    {
        return 3;
    }
    return 0;
}

void infixToPostfix(char infix[], char postfix[])
{
    int i=0,k=0;
    char x;
    while(infix[i] != '\0')
    {
        if(isalnum(infix[i]))
        {
            postfix[k++] = infix[i];
        }
        else if(infix[i]=='(')
        {
            push(infix[i]);
        }
        else if(infix[i] == ')')
        {
            while(top != -1 && stack[top] != '(')
                postfix[k++] = pop();
            if(top != -1)
                pop(); // pop '('
        }
        else
        {
            while(top != -1 && priority(stack[top]) >= priority(infix[i]))
                postfix[k++] = pop();
            push(infix[i]);
        }
        i++;
    }
    while(top != -1)
        postfix[k++] = pop();
    postfix[k] = '\0';  
}

int evalPostfix(char postfix[])
{
    return 0;
}

int main()
{
    char infix[size],postfix[size];
    int result;
    printf("Enter infix expression: ");
    scanf("%s", infix);
    infixToPostfix(infix,postfix);
    printf("\n Postfix expression: %s\n",postfix);
    result = evalPostfix(postfix);
    printf("\nResult after evaluation: %d\n",result);
    return 0;
}
